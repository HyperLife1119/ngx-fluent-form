<nz-layout class="layout">
  <nz-sider nzCollapsible nzBreakpoint="lg" [nzCollapsedWidth]="0">
    <div class="logo"></div>
  </nz-sider>
  <nz-layout>
    <nz-header></nz-header>

    <nz-content>
      <h1>DEMO</h1>

      <div class="search-form-wrapper">
        <fluent-form [(ngModel)]="searchModel" [schema]="searchSchema" [canSave]="false" [addOnAfter]="addOnAfter"></fluent-form>
        <ng-template #addOnAfter>
          <nz-button-group>
            <button nz-button nzType="primary">
              <i nz-icon nzType="search"></i>
              搜索
            </button>
            <button nz-button nzType="primary" (click)="onAdd()">
              <i nz-icon nzType="plus"></i>
              新增
            </button>
          </nz-button-group>
        </ng-template>
      </div>

      <nz-table #table nzBordered [nzData]="data" nzShowSizeChanger>
        <thead>
          <tr>
            <th nzWidth="0"></th>
            <th>全称</th>
            <th>昵称</th>
            <th>生日</th>
            <th>年龄</th>
            <th>状态</th>
          </tr>
        </thead>
        <tbody>
          <ng-container *ngFor="let dt of table.data">
            <tr [hidden]="!dt.id">
              <td [nzExpand]="expandId === dt.id" (nzExpandChange)="onExpandChange(dt.id, $event)" nzAlign="center"></td>
              <td>{{ dt.fullName }}</td>
              <td>{{ dt.nickname }}</td>
              <td>{{ dt.birthday | date: 'yyyy-MM-dd' }}</td>
              <td>{{ dt.age }}</td>
              <td><label nz-checkbox [(ngModel)]="dt.enabled"></label></td>
            </tr>
            <tr [nzExpand]="expandId === dt.id">
              <fluent-form [ngModel]="dt" [schema]="schema" [spinning]="formSpinning" (submit)="onSubmit(dt, $event)"
                           (cancel)="onCancel()"></fluent-form>
            </tr>
          </ng-container>
        </tbody>
      </nz-table>


    </nz-content>

    <nz-footer>Ant Design ©2022 Implement By Angular</nz-footer>
  </nz-layout>
</nz-layout>
